!function(i){var c="sketchable";i.fn.sketchable.plugins.serializer=function(r){i.extend(i.fn.sketchable.api,{serializer:{save:function(){var t=i(this).data(c);return JSON.stringify({strokes:t.strokes,options:t.options,actions:t.sketch.callStack})},load:function(t){for(var e=i(this).data(c),s=JSON.parse(t),a=e.sketch,o=0;o<s.actions.length;o++){var n=s.actions[o];n.property&&"object"!=typeof n.value?a.data[n.property]=n.value:n.method?a[n.method].apply(a,n.args):console.warn("Unknown call:",n)}return e.sketch.callStack=s.actions.slice(),e.strokes=s.strokes.slice(),e.options=s.options,r}}})}}(jQuery);